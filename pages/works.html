<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Favicon -->
    <link rel="icon" href="../src/assets/favicon.ico" type="image/x-icon">
    <title>There Might be No Works</title>
    <style>
        #works-title {
            position: fixed;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: transparent;
            text-decoration: line-through;
            font-size: 10em;
            -webkit-text-stroke: 0.5px black;
        }

        .card-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            padding: 20px;
        }

        .card {
            width: 100%;
            max-width: 600px;
            border: 1px solid #c7c7c7;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(255, 255, 255, 0.1);
            overflow: hidden;
            background-color: #fff;
        }

        .card img {
            width: 100%;
            height: auto;
        }

        .card-body {
            padding: 20px;
        }

        .card-title {
            font-size: 1rem;
            font-weight: bold;
        }

        .card-year {
            font-size: 1rem;
            font-weight: bold;
        }

        .card-material {
            font-size: 1rem;
            font-weight: bold;
        }

        .card-description {
            white-space: pre-wrap;
            /* Preserve newlines */
        }
    </style>
</head>

<body>
    <div class="card-container" id="card-container"></div>

    <h1 id="works-title" class="display-1">There Might be No Works</h1>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            fetch('https://293751c156f8.ngrok.app/items/works')
                .then(response => response.json())
                .then(data => {
                    const container = document.getElementById('card-container');

                    // Sort data in descending order based on date_created
                    data.data.sort((a, b) => new Date(b.date_created) - new Date(a.date_created));

                    data.data.forEach(item => {
                        const card = document.createElement('div');
                        card.className = 'card';

                        const img = document.createElement('img');
                        console.log(item.photo);
                        img.src = `https://293751c156f8.ngrok.app/assets/${item.photo}`;
                        img.alt = 'Work image';

                        const cardBody = document.createElement('div');
                        cardBody.className = 'card-body';

                        const title = document.createElement('h5');
                        title.className = 'card-title';
                        title.textContent = 'unknown';

                        const year = document.createElement('h5');
                        year.className = 'card-year';
                        year.textContent = '2024';

                        const material = document.createElement('h5');
                        material.className = 'card-material';
                        material.textContent = 'Mixed Media';


                        const description = document.createElement('p');
                        description.className = 'card-description';
                        description.textContent = item.description;

                        cardBody.appendChild(title);
                        cardBody.appendChild(year);
                        cardBody.appendChild(material);
                        cardBody.appendChild(description);
                        card.appendChild(img);
                        card.appendChild(cardBody);
                        container.appendChild(card);
                    });
                })
                .catch(error => console.error('Error fetching data:', error));
        });
    </script>
</body>

</html>